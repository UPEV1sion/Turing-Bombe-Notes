\definecolor{DarkGreen}{RGB}{0,100,0}

\definecolor{msg-red}{rgb}{1, 0.7, 0.56}

\definecolor{main-color}{rgb}{0.6627, 0.7176, 0.7764}
\definecolor{back-color}{rgb}{0.94,0.94,0.94}
\definecolor{string-color}{rgb}{0.3333, 0.5254, 0.345}
\definecolor{key-color}{rgb}{0.13,0.13,1}
\definecolor{typedef-color}{rgb}{0.8, 0.47, 0.196}

\lstdefinestyle{mystyle}
{
	language = C,
	basicstyle = {\ttfamily\small},
	backgroundcolor = {\color{back-color}},
	stringstyle = {\color{string-color}},
	keywordstyle = {\color{key-color}},
	keywordstyle = [3]{\color{typedef-color}},
	keywordstyle = [4]{\color{teal}},
	morekeywords = [3]{uint8_t, uint32_t, bool},
	morekeywords = {restrict},
	breaklines = true,
	showstringspaces = false,
	tabsize = 4
}

\renewcommand{\lstlistingname}{Quelltext}

%\setlength{\topmargin}{-40pt} 

\newlength{\ChapterRuleWidth}\setlength{\ChapterRuleWidth}{.5pt}
\newcommand*{\ChRuleWidth}[1]{\setlength{\ChapterRuleWidth}{\dimexpr #1}}%
\newcommand*{\ChNameVar}{\setkomafont{chapterprefix}}%
\newcommand*{\ChTitleVar}{\setkomafont{chapter}}%
\newcommand*{\ChNumVar}{\setkomafont{chapternumber}}%
\newcommand*{\ChapterNameCase}[1]{#1}
\newcommand*{\ChNameUpperCase}{\let\ChapterNameCase\MakeUppercase}
\newcommand*{\ChNameIs}{\renewcommand*\ChapterNameCase[1]{##1}}
\newcommand*{\ChNameLowerCase}{\let\ChapterNameCase\MakeLowercase}
\newcommand*{\ChapterTitleCase}[1]{#1}
\newcommand*{\ChTitleUpperCase}{\let\ChapterTitleCase\MakeUppercase}
\newcommand*{\ChTitleIs}{\renewcommand*\ChapterTitleCase[1]{##1}}
\newcommand*{\ChTitleLowerCase}{\let\ChapterTitleCase\MakeLowercase}

\KOMAoptions{chapterprefix}
\ChNameUpperCase
\newkomafont{chapternumber}{\Huge}
\let\raggedchapter\raggedleft
\RedeclareSectionCommand[%
beforeskip=-5pt,
innerskip=45pt,
afterskip=40pt,
font=\normalfont\sffamily\Large,
prefixfont=\Large,
]{chapter}
\renewcommand*{\chapterformat}{%
	\mbox{\ChapterNameCase{\chapappifchapterprefix{\nobreakspace}}%
		{\usekomafont{chapternumber}{%
				\rule{0pt}{.8\baselineskip}\thechapter\IfUsePrefixLine{}{\enskip}}}%
	}%
}
\renewcommand*{\chapterlineswithprefixformat}[3]{% 
	\IfArgIsEmpty{#2}{}{%
		#2%
	}%
	\rule[5pt]{\linewidth}{\ChapterRuleWidth}\\*
	\ChapterTitleCase{#3}\nobreak
	\rule[-5pt]{\linewidth}{\ChapterRuleWidth}
}

\newcommand{\fmbox}[1]{
	\begin{center}
		\fcolorbox{black}{yellow}
		{\parbox{0.88\textwidth}
			{\textcolor{black}
				{#1}
			}
		}
	\end{center}
}
